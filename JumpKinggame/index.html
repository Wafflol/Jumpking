<html>
<head>
    <meta charset="UTF-8">
    <script language="javascript" type="text/javascript" src="libraries/p5.js"></script>
    <script language="javascript" src="libraries/p5.dom.js"></script>
    <script language="javascript" src="libraries/p5.sound.js"></script>
    <script language="javascript" type="text/javascript" src="sketch.js"></script>
    <script language="javascript" type="text/javascript" src="Player.js"></script>
    <script language="javascript" type="text/javascript" src="Line.js"></script>
    <script language="javascript" type="text/javascript" src="Level.js"></script>
    <script language="javascript" type="text/javascript" src="LevelSetupFunction.js"></script>
    <script language="javascript" type="text/javascript" src="Brain.js"></script>
    <script language="javascript" type="text/javascript" src="Population.js"></script>
    <script language="javascript" type="text/javascript" src="Coin.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
    <script>

        function sendLineData() {
            let lineList = [];
            function organizeLines(line){
                lineList.push([[line.x1, line.y1], [line.x2, line.y2]]);
            }
            //window.sendOutput("myfunc");
            //window.sendOutput(player.currentPos.x);
            //console.log("isGrounded" + player.isOnGround)
            
            const playerPosition = [player.currentPos.x, player.currentPos.y];
            const lines = levels[player.currentLevelNo].returnLines();
            lines.forEach(organizeLines);
            //console.log(playerPosition);
            //console.log(lineList)
            lineList.push([[0, 0], [0, 900]]);
            lineList.push([[0, 900], [1200, 900]]);
            lineList.push([[1200, 0], [1200, 900]]);
            lineList.push([[0, 0], [20, 0]]);
            lineList.push([[1180, 0], [1200, 0]]);
            //lineList.push([[0, 0], [1200, 0]])

            window.sendOutput(playerPosition, lineList, player.currentLevelNo);
            //window.printCurrentLevel(player.currentLevelNo)
            
        }

        function sendHover(){
            console.log("inAir: " + ! player.isOnGround)
            window.inAir(! player.isOnGround);
        }
    
    </script>

    <style>
        body {
            background-color: rgb(30,30,30);
        }
    </style>
</head>

<body>
<center>
    <div id="canvas"></div>
</center>
</body>
</html>
